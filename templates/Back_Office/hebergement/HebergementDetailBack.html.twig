{% extends'Back_Office/AdminMain.html.twig' %}

{% block title %}
	Detail Hebergement
{% endblock %}

{% block menu %}
	Detail Hebergement :
	<b>
		{{ hebergement.getNomHbrg() }}
	</b>
{% endblock %}


{% block Entry %}

	<div class="container py-5">
		<div class="row">
			<div class="col-lg-8">
				<div class="text-block">
					<p class="text-primary">
						<i class="fa-map-marker-alt fa mr-1"></i>
						{{hebergement.getAdresseHbrg()}}</p>
					<h1>{{hebergement.getNomHbrg()}}</h1>
					<p class="text-muted text-uppercase mb-4">{{hebergement.TypeHbrg.getNomTypeHbrg() }}</p>
				</p>
				<ul class="list-inline text-sm mb-4">
					<li class="list-inline-item mr-3">
						<i class="fa fa-users mr-1 text-secondary"></i>
						{{hebergement.getNbrPlaceHbrg()}}
						available places
					</li>
				</ul>

				</div>
			<hr>
				<div class="text-block">
					<div class="media">
						{% if hebergement.proprietaire is null %}
							<img class="avatar avatar-lg mr-4" src="{{ asset ('DefaultProp.png')}}" alt="owner"/>
						{% else %}
							<img class="avatar avatar-lg mr-4 !important" src="{{ asset('/uploads/proprietaires/'~ hebergement.proprietaire.getImgProp())}}" width="150" alt="prop"/>
						{% endif %}
						<div class="media-body">
							<p>
								<span class="text-muted text-uppercase text-sm">Hosted by
								</span><br>
								<strong>
									{{ hebergement.proprietaire is null? ' no proprietaire':  hebergement.proprietaire.getNomProp()  }}
								</strong>
							</p>
							<p class="text-muted text-sm mb-2">To modify</p>
							<p class="text-muted text-sm">To modify
							</p>
							{% if hebergement.proprietaire is null %}

								{% else %}
									<p class="text-sm">
										<a href="user-profile.html">See
											{{hebergement.proprietaire.getNomProp()}}'s 3 other listings
											<i class="fa fa-long-arrow-alt-right ml-2"></i>
										</a>
									</p>
							{% endif %}
						</div>
					</div>
				</div>
				<hr>
				<div class="text-block">
					<h5 class="mb-4">Gallery</h5>
					{% for image in hebergement.ImagesHebergements %}
						<div class="row gallery mb-3 ml-n1 mr-n1">
							<div class="col-lg-4 col-6 px-1 mb-2" >
								<tr>
									<td>
										<img class="img-fluid" src="{{ asset('/uploads/hebergements/'~ image.getNomImg()) }}" alt="...">
									</td>
									<td>
										<button class="btn btn-danger" style="text-align: center !important">
											<i class="fa fa-trash"></i>	
										<a style="color:white !important" href="{{ path('hebergement_delete_image', {id: image.id})}}" data-delete data-token="{{ csrf_token('delete' ~ image.id )}}">delete</a>
										</button>
									</td>
								</tr>
							</div>
						</div>

					{% else %}
						<h6>
							No pictures of this Accomadation
						</h6>
					{% endfor %}

				</div>

			</div>
			<div class="col-lg-4">
				<div class="p-4 shadow ml-lg-4 rounded sticky-top" style="top: 100px;">
					<img class="img-fluid" src="{{ asset('/uploads/hebergements/'~ hebergement.getImgHbrg()) }}" alt="..."></a>
				<br>
				<br>
				<p class="text-muted">
					<span class="text-primary h2">Availabe on :
						{{hebergement.getDateHbrg()|date('d/m/Y') }}</span</p>
				</p>
				<p class="text-muted">
					<span class="text-primary h2">{{hebergement.getNbrPlaceHbrg() }}
						Places</span</p>
				</p>
				<p class="text-muted">
					<span class="text-primary h2">{{hebergement.getPrixHbrg()}}TND</span>
					<span color="black !important">
						per night</span>
				</p>

				<hr class="my-4">
				<p class="text-muted text-sm text-center">Some additional text can be also placed here.</p>
				<hr class="my-4">

				<td>
					<!-- Button trigger modal-->
					<button type="button" onclick="Update()" class="btn btn-success" data-toggle="modal" data-target="#exampleModal">
						<a style="color:white !important" href="{{ path('UpdateHeberg',{'id':hebergement.getId()}) }}">Modify</a>

					</button>
					<!-- Modal-
									<div class="modal fade" id="exampleModal" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="staticBackdrop" aria-hidden="true">
										<div class="modal-dialog" role="document">
											<div class="modal-content">
												<div class="modal-header">
													<h5 class="modal-title" id="exampleModalLabel">Are you sure ?
													</h5>
													<button type="button" class="close" data-dismiss="modal" aria-label="Close">
														<i aria-hidden="true" class="ki ki-close"></i>
													</button>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-light-primary font-weight-bold" data-dismiss="modal">Close</button>
													<button type="button" class="btn btn-light-dark font-weight-bold">
														<a href="{{ path('UpdateHeberg',{'id':hebergement.getId()}) }}">Update</a>
													</button>
					
												</div>
											</div>
										</div>
									</div>
										-->
				</td>

				<td>
					<!-- Button trigger modal-->
					<button type="button" class="btn btn-danger" onclick="Delete()" data-toggle="modal" data-target="#Delete">
						<a style="color:white !important" href="{{ path('DeleteHebergement',{'id':hebergement.getId()}) }}">Delete</a>
					</button>
					<!-- Modal
																										<div class="modal fade" id="Delete" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="staticBackdrop" aria-hidden="true">
																											<div class="modal-dialog" role="document">
																												<div class="modal-content">
																													<div class="modal-header">
																														<h5 class="modal-title" id="exampleModalLabel">Are you sure ? </h5>
																														<button type="button" class="close" data-dismiss="modal" aria-label="Close">
																															<i aria-hidden="true" class="ki ki-close"></i>
																														</button>
																													</div>
																													<div class="modal-footer">
																														<button type="button" class="btn btn-light-primary font-weight-bold" data-dismiss="modal">
																														Close
																														</button>
																														<button type="button" class="btn btn-light-dark font-weight-bold" >
																															<a href="{{ path('DeleteHebergement',{'id':hebergement.getId()}) }}">Delete</a> 
																														</button>
																														
																													</div>
																												</div>
																											</div>
																										</div>
																					          -->
				</td>

			</div>
		</div>
	</div>
</div>
<script>
	// ------------------------------------------------------- //
// Inject SVG Sprite -
// see more here
// https://css-tricks.com/ajaxing-svg-sprite/
// ------------------------------------------------------ //
function injectSvgSprite(path) {

var ajax = new XMLHttpRequest();
ajax.open("GET", path, true);
ajax.send();
ajax.onload = function (e) {
var div = document.createElement("div");
div.className = 'd-none';
div.innerHTML = ajax.responseText;
document.body.insertBefore(div, document.body.childNodes[0]);
}
}
// to avoid CORS issues when viewing using file:// protocol, using the demo URL for the SVG sprite
// use your own URL in production, please :)
// https://demo.bootstrapious.com/directory/1-0/icons/orion-svg-sprite.svg
// - injectSvgSprite('${path}icons/orion-svg-sprite.svg');
injectSvgSprite('https://demo.bootstrapious.com/directory/1-4/icons/orion-svg-sprite.svg');
</script>
<script>
	var snapSlider = document.getElementById('slider-snap');

noUiSlider.create(snapSlider, {
start: [
40, 110
],
snap: false,
connect: true,
step: 1,
range: {
'min': 40,
'max': 110
}
});
var snapValues = [document.getElementById('slider-snap-value-from'), document.getElementById('slider-snap-value-to')];
var inputValues = [document.getElementById('slider-snap-input-from'), document.getElementById('slider-snap-input-to')];
snapSlider.noUiSlider.on('update', function (values, handle) {
snapValues[handle].innerHTML = values[handle];
inputValues[handle].value = values[handle];
})
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
	var typetext = $("form_type option:selected").text();
</script>

<script text="javascript">
	function Delete() {
  		confirm("Are you sure you want to delete ?");
	}

		function Update() {
  		confirm("Are you sure you want to update ?");
	}
</script>

{% endblock %}
