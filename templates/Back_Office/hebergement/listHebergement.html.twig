 {% extends'Back_Office/AdminMain.html.twig' %}

 {% block title %}
    List Hbrgs
{% endblock %}

{% block menu %}
	Liste des Hebergements					
{% endblock %}

{% block Entry %}

<table class="table">
    <thead>
    <tr>
        <th>#</th>
        <th>Nom Hebergement</th>
        <th>Proprietaire Hebergement</th>
        <th>Adresse Hebergement</th>
        <th>Date Hebergement</th>
        <th>Type Hebergement</th>
        <th>NombrePlace Hebergement</th>
        <th>Prix Hebergement</th>
        <th>Image Hebergement</th>
        <th>Images</th>
        <th>Update</th>
        <th>Delete</th>
    </tr>
    </thead>
    <tbody>
    {% for h in hebergement %}
    <tr >
        <td>{{ h.getId() }}</td>
        <td><a href="{{ path('DetailHebergementBack', { id: h.getId() } )}}">{{ h.getNomHbrg() }}</a></td>
        <td>
        {{ h.proprietaire is null? ' no proprietaire':  h.proprietaire.getNomProp()  }}           
        </td>
        <td>{{ h.getAdresseHbrg() }}</td>
        <td>{{ h.getDateHbrg()|date('d/m/Y') }}</td>
        <td>{{ h.TypeHbrg.getNomTypeHbrg() }}  </td>
        <td>{{ h.getNbrPlaceHbrg() }}</td> 
        <td>{{ h.getPrixHbrg() }}</td> 
        <td><img src="{{ asset('/uploads/hebergements/'~ h.getImgHbrg()) }}" alt="" width="150"> </td>
        <td>
         {% for image in h.imagesHebergements %}
            <div>
                <img src="{{ asset('/uploads/hebergements/'~ image.getNomImg()) }}" alt="" width="50">
            <a href="{{ path('hebergement_delete_image', {id: image.id})}}" data-delete data-token="{{ csrf_token('delete' ~ image.id )}}">delete</a>
            </div>
            </div>
        {% endfor %}
        </td>

        <td> 
<!-- Button trigger modal-->
 <button type="button" class="btn btn-success" data-toggle="modal" data-target="#exampleModal">
    Update
</button>

<!-- Modal-->
<div class="modal fade" id="exampleModal" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="staticBackdrop" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Are you sure ? </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i aria-hidden="true" class="ki ki-close"></i>
                </button>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-light-primary font-weight-bold" data-dismiss="modal">Close</button>
              <button type="button" class="btn btn-light-dark font-weight-bold"> 
                <a href="{{ path('UpdateHeberg',{'id':h.getId()}) }}">Update</a>
                </button>
                
            </div>
        </div>
    </div>
</div>
        
        </td>

      <td > 
            <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#Delete">Delete  </button>

<!-- Modal-->
<div class="modal fade" id="Delete" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="staticBackdrop" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Are you sure ? </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i aria-hidden="true" class="ki ki-close"></i>
                </button>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-light-primary font-weight-bold" data-dismiss="modal">
                Close
                </button>
                <button type="button" class="btn btn-primary font-weight-bold">
                    <a href="{{ path('DeleteHebergement',{'id':h.getId()}) }}">Delete</a> 
                </button>
                
            </div>
        </div>
    </div>
</div>
      </td>
    </tr>

    {% else %}  
    <tr>
        <td colspan="10" align="center" >Aucun Hebergement</td>

       </tr >
   

    </tbody>
    {% endfor %}
</table>




{% endblock %}


{% block javascripts %}
    <script src="{{ asset('js/images.js') }}"></script>
{% endblock %}
